<!-- src/app/components/contact/contact.component.html -->
<section id="contact" class="contact">
  <div class="container">
    <h2 class="section-title">{{ (languageService.getTranslation('contactSectionTitle') | async) }}</h2>

    <div class="contact-content">
      <div class="contact-info">
        <h3>{{ (languageService.getTranslation('getInTouchTitle') | async) }}</h3>
        <p>
          {{ (languageService.getTranslation('getInTouchDescription') | async) }}
        </p>

        <div class="contact-details">
          <div class="contact-item">
            <span class="contact-icon">
              <fa-icon [icon]="faMapMarkerAlt"></fa-icon>
            </span>
            <div>
              <h4>{{ (languageService.getTranslation('locationLabel') | async) }}</h4>
              <p>Sleman, Yogyakarta, Indonesia</p> <!-- Ini bisa hardcode atau jadi terjemahan jika lokasi bisa berubah -->
            </div>
          </div>

          <div class="contact-item">
            <span class="contact-icon">
              <fa-icon [icon]="faPhone"></fa-icon>
            </span>
            <div>
              <h4>{{ (languageService.getTranslation('phoneLabel') | async) }}</h4>
              <p>+62 852 1733 1968</p> <!-- Ini bisa hardcode -->
            </div>
          </div>

          <div class="contact-item">
            <span class="contact-icon">
              <fa-icon [icon]="faEnvelope"></fa-icon>
            </span>
            <div>
              <h4>{{ (languageService.getTranslation('emailLabel') | async) }}</h4>
              <p>hendrowunga073&#64;gmail.com</p> <!-- Ini bisa hardcode -->
            </div>
          </div>
        </div>
      </div>

      <div class="contact-form-wrapper">
        <h3>{{ (languageService.getTranslation('sendMessageTitle') | async) }}</h3>
        <form [formGroup]="contactForm" class="contact-form">
          <div class="form-group">
            <label for="name">{{ (languageService.getTranslation('nameFieldLabel') | async) }}</label>
            <input
              type="text"
              id="name"
              formControlName="name"
              [placeholder]="languageService.getTranslationSync('nameFieldPlaceholder')"
              [class.invalid]="nameControl.invalid && (nameControl.dirty || nameControl.touched)" />
            <div
              *ngIf="nameControl.invalid && (nameControl.dirty || nameControl.touched)"
              class="error-message">
              <span *ngIf="nameControl.errors?.['required']">{{ (languageService.getTranslation('nameRequiredError') | async) }}</span>
            </div>
          </div>

          <div class="form-group">
            <label for="email">{{ (languageService.getTranslation('emailFieldLabel') | async) }}</label>
            <input
              type="email"
              id="email"
              formControlName="email"
              [placeholder]="languageService.getTranslationSync('emailFieldPlaceholder')"
              [class.invalid]="emailControl.invalid && (emailControl.dirty || emailControl.touched)" />
            <div
              *ngIf="emailControl.invalid && (emailControl.dirty || emailControl.touched)"
              class="error-message">
              <span *ngIf="emailControl.errors?.['required']">{{ (languageService.getTranslation('emailRequiredError') | async) }}</span>
              <span *ngIf="emailControl.errors?.['email']">{{ (languageService.getTranslation('emailInvalidError') | async) }}</span>
            </div>
          </div>

          <div class="form-group">
            <label for="subject">{{ (languageService.getTranslation('subjectFieldLabel') | async) }}</label>
            <input
              type="text"
              id="subject"
              formControlName="subject"
              [placeholder]="languageService.getTranslationSync('subjectFieldPlaceholder')" />
          </div>

          <div class="form-group">
            <label for="message">{{ (languageService.getTranslation('messageFieldLabel') | async) }}</label>
            <textarea
              id="message"
              formControlName="message"
              rows="5"
              [placeholder]="languageService.getTranslationSync('messageFieldPlaceholder')"
              [class.invalid]="messageControl.invalid && (messageControl.dirty || messageControl.touched)"></textarea>
            <div
              *ngIf="messageControl.invalid && (messageControl.dirty || messageControl.touched)"
              class="error-message">
              <span *ngIf="messageControl.errors?.['required']">{{ (languageService.getTranslation('messageRequiredError') | async) }}</span>
            </div>
          </div>

          <a
             [href]="mailtoLink"
             class="btn btn-primary"
             [class.disabled]="contactForm.invalid"
             (click)="handleMailtoClick($event)"
             aria-label="Send message via email client"
             title="Send message via email client">
             <fa-icon [icon]="faPaperPlane" class="btn-icon"></fa-icon>
             {{ (languageService.getTranslation('sendMessageButton') | async) }}
          </a>
        </form>
      </div>
    </div>
  </div>
</section>
